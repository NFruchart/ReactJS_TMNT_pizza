(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(57)},42:function(e,t,a){},43:function(e,t,a){},52:function(e,t,a){var r={"./4-fromages.jpg":53,"./marguerita.jpg":54,"./pepperoni.jpg":55,"./reine.jpg":56};function n(e){var t=i(e);return a(t)}function i(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}n.keys=function(){return Object.keys(r)},n.resolve=i,e.exports=n,n.id=52},53:function(e,t,a){e.exports=a.p+"static/media/4-fromages.bf16a90d.jpg"},54:function(e,t,a){e.exports=a.p+"static/media/marguerita.44ae2bd2.jpg"},55:function(e,t,a){e.exports=a.p+"static/media/pepperoni.b9c11f75.jpg"},56:function(e,t,a){e.exports=a.p+"static/media/reine.f4fde97f.jpg"},57:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(22),o=a.n(i),c=a(25),l=a(18),s=a(12),d=a(17),m={marg:{name:"Margarita",price:7.9,image:"marguerita.jpg"},pepp:{name:"Pepperoni",price:11.9,image:"pepperoni.jpg"},"4fro":{name:"4 fromages",price:10.9,image:"4-fromages.jpg"},reine:{name:"Reine",price:9.9,image:"reine.jpg"}},p="ADD_ORDER",u="ADD_PIZZA_ORDER",f={pizzas:m,orders:JSON.parse(localStorage.getItem("orders"))||[]};a(42);var h=a(7),E=a(8),v=a(10),g=a(9),O=a(11),b=(a(43),a(20)),y=a(14),j=[{name:"Nouvelle commande",description:"Cr\xe9er et enregistrer un nouvelle commande",icon:"shipping-fast",bgColor:"#006994",action:"new"},{name:"Commande en cours",description:"Voir le details de commandes en cours",icon:"fire",bgColor:"#911D00",action:"orders"},{name:"Paiement commande",description:"Encaisser une commande",icon:"euro-sign",bgColor:"#009130",action:"payment-order"}],z=a(13),N=function(e){var t=e.name,a=e.icon,r=e.desc,i=e.bgColor,o=e.action;return n.a.createElement("div",{className:"tile",style:{backgroundColor:i},onClick:o},n.a.createElement("div",{className:"tile-icon"},n.a.createElement(z.a,{icon:a})),n.a.createElement("div",{className:"tile-text"},n.a.createElement("h2",null,t),n.a.createElement("p",null,r)))},k=a(16),w=Object(k.e)(function(e){var t=e.isHome,a=void 0!==t&&t,r=e.history;return n.a.createElement("header",{className:"App-header"},!a&&n.a.createElement(z.a,{icon:"arrow-left",size:"2x",className:"back-button",onClick:function(){r.push("/")}}),n.a.createElement("div",{className:"title-wrapper"},n.a.createElement(z.a,{icon:"pizza-slice"}),n.a.createElement("h1",null,"TMNT Pizza")))});b.b.add(y.c,y.d,y.f,y.e,y.a,y.b,y.g);var C=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(i)))).handleClick=function(e){a.props.history.push(e)},a.renderTiles=function(){return j.map(function(e){return n.a.createElement(N,{key:e.action,name:e.name,icon:e.icon,desc:e.description,bgColor:e.bgColor,action:function(){return a.handleClick(e.action)}})})},a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(w,{isHome:!0}),n.a.createElement("div",{className:"tiles-wrapper"},this.renderTiles()))}}]),t}(r.Component),S=function(e){function t(){return Object(h.a)(this,t),Object(v.a)(this,Object(g.a)(t).apply(this,arguments))}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e="CMD-".concat(Date.now());this.props.addOrder(e),this.props.history.push("order/".concat(e))}},{key:"render",value:function(){return n.a.createElement("div",null)}}]),t}(r.Component),x={addOrder:function(e){return{type:p,payload:{id:e,pizzas:{},total:0,paid:!1}}}},D=Object(l.b)(null,x)(S),I=function(e){var t=e.name,r=e.price,i=e.image,o=e.addToOrder;return r=r.toLocaleString(navigator.language,{minimumFractionDigits:2}),n.a.createElement("div",{className:"pizza-wrapper",onClick:o},n.a.createElement("div",{className:"pizza"},n.a.createElement("img",{className:"pizza-image",alt:"",src:a(52)("./".concat(i))}),n.a.createElement("div",{className:"pizza-text"},n.a.createElement("h3",null,t),n.a.createElement("div",{className:"pizza-price"},r," \u20ac"))))},A=function(e){var t=e.order,a=e.paidButton,i=void 0!==a&&a,o=e.setPaid,c=void 0!==o&&o,l=Object.keys(t.pizzas).map(function(e){var a=Math.round(m[e].price*t.pizzas[e]*10)/10;return n.a.createElement("div",{key:e,className:"order-details-item"},n.a.createElement("div",{className:"pizza-details"},n.a.createElement("span",null,m[e].name),n.a.createElement("span",null,a.toFixed(2)," \u20ac")),n.a.createElement("div",{className:"price-details"},"(",t.pizzas[e]," x ",m[e].price," \u20ac)"))});return n.a.createElement(r.Fragment,null,n.a.createElement("div",{className:"order-details-list"},l),n.a.createElement("div",{className:"order-summary"},n.a.createElement("div",{className:"order-total"},"Soit un total de : ",n.a.createElement("strong",null,t.total.toFixed(2)," \u20ac")),i&&n.a.createElement("button",{className:"order-paid-button",onClick:c},"Encaisser la commande")))},P=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={orderInfo:{id:a.props.match.params.oid,index:null},order:{}},a.addToOrder=function(e){var t=Object(s.a)({},a.state.order),r=Object(s.a)({},t.pizzas);r[e]?r[e]++:r[e]=1,t.pizzas=r,t.total=t.total+a.props.pizzas[e].price,a.setState({order:t},function(){a.props.addPizzaOrder(t)})},a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.orders.findIndex(function(t){return t.id===e.state.orderInfo.id}),a=this.props.orders[t];this.setState({order:a,orderInfo:Object(s.a)({},this.state.orderInfo,{index:t})})}},{key:"render",value:function(){var e=this,t=Object.keys(this.props.pizzas).map(function(t){return n.a.createElement(I,{key:t,name:e.props.pizzas[t].name,price:e.props.pizzas[t].price,image:e.props.pizzas[t].image,addToOrder:function(){return e.addToOrder(t)}})});return n.a.createElement("div",{className:"App"},n.a.createElement(w,null),n.a.createElement("div",{className:"order"},n.a.createElement("div",{className:"pizzas-wrapper"},t),n.a.createElement("div",{className:"order-details-wrapper"},n.a.createElement("div",{className:"order-details"},n.a.createElement("h2",null,"D\xe9tail de la commande n\xb0"),n.a.createElement("h2",null,this.state.orderInfo.id),this.state.order.id&&n.a.createElement(A,{order:this.state.order})))))}}]),t}(r.Component),T={addPizzaOrder:function(e){return{type:u,payload:{order:e}}}},F=Object(l.b)(function(e){return{pizzas:e.pizzas,orders:e.orders}},T)(P),J=function(e){function t(){var e,a;Object(h.a)(this,t);for(var i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(o)))).state={orders:JSON.parse(localStorage.getItem("orders"))||[]},a.editOrder=function(e){a.props.history.push("order/".concat(e))},a.deleteOrder=function(e){var t=Object(d.a)(a.state.orders),r=t.findIndex(function(t){return t.id===e});t.splice(r,1),a.setState({orders:t},function(){localStorage.setItem("orders",JSON.stringify(a.state.orders))})},a.ordersListDisplay=function(){return a.state.orders.map(function(e){return n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,e.id),n.a.createElement("td",null,e.total.toFixed(2)," \u20ac"),n.a.createElement("td",{className:e.paid?"bg-success":"bg-warning"},e.paid?"R\xe9gl\xe9":"En attente de paiement"),n.a.createElement("td",{className:"order-actions"},!e.paid&&n.a.createElement(r.Fragment,null,n.a.createElement("button",{className:"order-action-edit",onClick:function(){return a.editOrder(e.id)}},n.a.createElement(z.a,{icon:"edit"})),n.a.createElement("button",{className:"order-action-delete",onClick:function(){return a.deleteOrder(e.id)}},n.a.createElement(z.a,{icon:"trash"})))))})},a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(w,null),n.a.createElement("div",{className:"orders-list"},n.a.createElement("h2",null,"Liste des commandes"),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"ID"),n.a.createElement("th",null,"Total commande"),n.a.createElement("th",null,"Statut commande"),n.a.createElement("th",null,"Actions"))),n.a.createElement("tbody",null,this.ordersListDisplay()))))}}]),t}(r.Component),M=function(e){function t(){var e,a;Object(h.a)(this,t);for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(a=Object(v.a)(this,(e=Object(g.a)(t)).call.apply(e,[this].concat(n)))).state={orders:JSON.parse(localStorage.getItem("orders"))||[],selectedOrder:[]},a}return Object(O.a)(t,e),Object(E.a)(t,[{key:"handleChange",value:function(e){var t=e.target.value,a=this.state.orders.find(function(e){return e.id===t});a&&this.setState({selectedOrder:a})}},{key:"setPaid",value:function(){var e=this,t=Object(d.a)(this.state.orders),a=t.findIndex(function(t){return t.id===e.state.selectedOrder.id}),r=Object(s.a)({},this.state.selectedOrder);r.paid=!0,t[a]=r,this.setState({orders:t,selectedOrder:{}},function(){localStorage.setItem("orders",JSON.stringify(e.state.orders))})}},{key:"selectedOrderDisplay",value:function(){var e=this;if(Object.keys(this.state.selectedOrder).length>0)return n.a.createElement("div",{className:"order-details"},n.a.createElement("h2",null,"D\xe9tail de la commande n\xb0",this.state.selectedOrder.id),n.a.createElement(A,{order:this.state.selectedOrder,paidButton:!0,setPaid:function(){return e.setPaid()}}))}},{key:"render",value:function(){var e=this,t=this.state.orders.filter(function(e){return!e.paid}).map(function(e){return n.a.createElement("option",{key:e.id,value:e.id},e.id," - ",e.total.toFixed(2)," \u20ac")});return n.a.createElement("div",{className:"App"},n.a.createElement(w,null),n.a.createElement("div",{className:"payment-wrapper"},n.a.createElement("div",{className:"order-selection"},n.a.createElement("label",{htmlFor:"orderSelect"},"Selectionner la commande \xe0 encaisser"),n.a.createElement("select",{name:"",id:"orderSelect",onChange:function(t){return e.handleChange(t)}},n.a.createElement("option",{value:""}),t)),n.a.createElement("div",{className:"payment-order"},n.a.createElement("div",{className:"order-details-wrapper"},this.selectedOrderDisplay()))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=a(26),L=Object(c.b)(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:var a=[].concat(Object(d.a)(e.orders),[t.payload]);return localStorage.setItem("orders",JSON.stringify(a)),Object(s.a)({},e,{orders:a});case u:var r=e.orders.findIndex(function(e){return e.id===t.payload.order.id}),n=Object(d.a)(e.orders);return n[r]=t.payload.order,localStorage.setItem("orders",JSON.stringify(n)),Object(s.a)({},e,{orders:n});default:return e}});o.a.render(n.a.createElement(l.a,{store:L},n.a.createElement(function(){return n.a.createElement(R.a,null,n.a.createElement(k.c,null,n.a.createElement(k.a,{exact:!0,path:"/",component:C}),n.a.createElement(k.a,{exact:!0,path:"/new",component:D}),n.a.createElement(k.a,{path:"/order/:oid",component:F}),n.a.createElement(k.a,{path:"/orders",component:J}),n.a.createElement(k.a,{path:"/payment-order",component:M})))},null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.d94fa6fe.chunk.js.map